<!-- filepath: /home/mhmh/code/wudok/rails-martina-app/app/views/layouts/public.html.erb -->
<!DOCTYPE html>
<html lang="es-CO">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- SEO Primary Meta Tags -->
  <title><%= content_for?(:title) ? "#{yield(:title)} | Martina Lawyer" : "Martina Lawyer - Asistente Legal con IA para Abogados en Colombia" %></title>
  <meta name="title" content="<%= content_for?(:title) ? "#{yield(:title)} | Martina Lawyer" : "Martina Lawyer - Asistente Legal con IA para Abogados en Colombia" %>">
  <meta name="description" content="<%= content_for?(:description) ? yield(:description) : "Software jurídico con inteligencia artificial para abogados colombianos. Gestiona expedientes, consulta jurisprudencia, analiza documentos legales y automatiza tu práctica legal." %>">
  <meta name="keywords" content="software jurídico Colombia, gestión de expedientes legales, inteligencia artificial para abogados, consulta jurisprudencia colombiana, análisis de documentos legales, asistente legal IA, derecho colombiano, gestión documental jurídica, automatización legal, LegalTech Colombia">
  <meta name="author" content="Martina Lawyer">
  <meta name="robots" content="index, follow">
  <meta name="language" content="Spanish">
  <meta name="geo.region" content="CO">
  <meta name="geo.country" content="Colombia">

  <!-- Canonical URL -->
  <link rel="canonical" href="<%= request.original_url.split('?').first %>">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="<%= request.original_url %>">
  <meta property="og:title" content="<%= content_for?(:title) ? "#{yield(:title)} | Martina Lawyer" : "Martina Lawyer - Asistente Legal con IA para Abogados en Colombia" %>">
  <meta property="og:description" content="<%= content_for?(:description) ? yield(:description) : "Software jurídico con inteligencia artificial para abogados colombianos. Gestiona expedientes, consulta jurisprudencia y automatiza tu práctica legal." %>">
  <meta property="og:image" content="<%= image_url('og-image.png') rescue 'https://martinalawyer.co/og-image.png' %>">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:locale" content="es_CO">
  <meta property="og:site_name" content="Martina Lawyer">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="<%= request.original_url %>">
  <meta name="twitter:title" content="<%= content_for?(:title) ? "#{yield(:title)} | Martina Lawyer" : "Martina Lawyer - Asistente Legal con IA para Abogados en Colombia" %>">
  <meta name="twitter:description" content="<%= content_for?(:description) ? yield(:description) : "Software jurídico con IA para abogados colombianos. Gestiona expedientes, consulta jurisprudencia y automatiza tu práctica legal." %>">
  <meta name="twitter:image" content="<%= image_url('og-image.png') rescue 'https://martinalawyer.co/og-image.png' %>">
  <meta name="twitter:creator" content="@martinalawyer">

  <!-- Additional SEO Meta Tags -->
  <meta name="application-name" content="Martina Lawyer">
  <meta name="apple-mobile-web-app-title" content="Martina Lawyer">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#1976d2">
  <meta name="msapplication-TileColor" content="#1976d2">

  <!-- Favicon -->
  <link rel="icon" href="/icon.png" type="image/png">
  <link rel="icon" href="/icon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/icon.png">
  <link rel="manifest" href="/manifest.json">

  <!-- Preconnect for performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- CSRF -->
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>

  <!-- Structured Data - Organization -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Martina Lawyer",
    "applicationCategory": "BusinessApplication",
    "operatingSystem": "Web",
    "description": "Software jurídico con inteligencia artificial para abogados en Colombia. Gestión de expedientes, consulta de jurisprudencia y análisis de documentos legales.",
    "url": "https://martinalawyer.co",
    "author": {
      "@type": "Organization",
      "name": "Martina Lawyer",
      "url": "https://martinalawyer.co"
    },
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "COP",
      "description": "Prueba gratuita disponible"
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.8",
      "ratingCount": "150"
    },
    "featureList": [
      "Gestión de expedientes judiciales",
      "Consulta de jurisprudencia colombiana con IA",
      "Análisis de documentos legales",
      "Seguimiento de términos procesales",
      "Chat con inteligencia artificial jurídica"
    ]
  }
  </script>

  <!-- Structured Data - Organization -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Martina Lawyer",
    "url": "https://martinalawyer.co",
    "logo": "https://martinalawyer.co/icon.png",
    "description": "Plataforma de software jurídico con inteligencia artificial para abogados en Colombia",
    "address": {
      "@type": "PostalAddress",
      "addressCountry": "CO"
    },
    "contactPoint": {
      "@type": "ContactPoint",
      "contactType": "customer service",
      "email": "contacto@martinalawyer.co"
    },
    "sameAs": [
      "https://twitter.com/martinalawyer",
      "https://linkedin.com/company/martinalawyer"
    ]
  }
  </script>

  <!-- Structured Data - WebSite with SearchAction -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Martina Lawyer",
    "url": "https://martinalawyer.co",
    "description": "Asistente legal con inteligencia artificial para abogados colombianos",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://martinalawyer.co/blog?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>

  <!-- Page-specific structured data -->
  <%= yield :structured_data %>

  <!-- Styles -->
  <%= vite_stylesheet_tag "public" %>
</head>
<body class="bg-surface min-h-screen">

  <!-- Navigation -->
  <nav class="fixed top-0 left-0 right-0 z-50 bg-surface/95 backdrop-blur-md border-b border-gray-100" aria-label="Navegación principal">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <!-- Logo -->
        <a href="/" class="flex items-center gap-3 group" aria-label="Martina Lawyer - Inicio">
          <div class="w-10 h-10 bg-primary-700 rounded-xl flex items-center justify-center shadow-elevation-1 group-hover:shadow-elevation-2 transition-shadow">
            <span class="text-white font-bold text-xl">M</span>
          </div>
          <span class="text-xl font-semibold text-on-surface">Martina</span>
        </a>

        <!-- Desktop Navigation -->
        <div class="hidden md:flex items-center gap-2">
          <a href="#features" class="btn-text text-sm">Características</a>
          <a href="#how-it-works" class="btn-text text-sm">Cómo funciona</a>
          <a href="#" class="btn-text text-sm">Blog</a>
          <div class="w-px h-6 bg-gray-200 mx-2"></div>
          <%= link_to "Iniciar Sesión", new_user_session_path, class: "btn-text text-sm" %>
          <%= link_to "Registrarse", new_user_registration_path, class: "btn-filled text-sm" %>
        </div>

        <!-- Mobile Menu Button -->
        <button class="md:hidden p-2 rounded-lg hover:bg-gray-100" id="mobile-menu-btn" aria-label="Abrir menú de navegación" aria-expanded="false" aria-controls="mobile-menu">
          <svg class="w-6 h-6 text-on-surface" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div class="hidden md:hidden bg-surface border-t border-gray-100 px-4 py-4 space-y-2" id="mobile-menu" role="menu">
      <a href="#features" class="block px-4 py-2 text-on-surface-variant hover:bg-gray-50 rounded-lg" role="menuitem">Características</a>
      <a href="#how-it-works" class="block px-4 py-2 text-on-surface-variant hover:bg-gray-50 rounded-lg" role="menuitem">Cómo funciona</a>
      <a href="#" class="block px-4 py-2 text-on-surface-variant hover:bg-gray-50 rounded-lg" role="menuitem">Blog</a>
      <hr class="my-2">
      <%= link_to "Iniciar Sesión", new_user_session_path, class: "block px-4 py-2 text-primary-700 hover:bg-primary-50 rounded-lg", role: "menuitem" %>
      <%= link_to "Registrarse", new_user_registration_path, class: "block btn-filled text-center mt-2", role: "menuitem" %>
    </div>
  </nav>

  <!-- Flash Messages -->
  <% if notice.present? || alert.present? %>
    <div class="fixed top-20 left-1/2 -translate-x-1/2 z-50 w-full max-w-md px-4 animate-fade-in-up" role="alert" aria-live="polite">
      <% if notice.present? %>
        <div class="flex items-center gap-3 bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-xl shadow-elevation-2">
          <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
          <span><%= notice %></span>
        </div>
      <% end %>
      <% if alert.present? %>
        <div class="flex items-center gap-3 bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-xl shadow-elevation-2">
          <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
          <span><%= alert %></span>
        </div>
      <% end %>
    </div>
  <% end %>

  <!-- Main Content -->
  <main class="pt-16" role="main">
    <%= yield %>
  </main>

  <!-- Footer -->
  <footer class="bg-surface-variant border-t border-gray-200" role="contentinfo">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
      <div class="grid md:grid-cols-4 gap-8">
        <!-- Brand -->
        <div class="md:col-span-2">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-10 h-10 bg-primary-700 rounded-xl flex items-center justify-center">
              <span class="text-white font-bold text-xl">M</span>
            </div>
            <span class="text-xl font-semibold text-on-surface">Martina Lawyer</span>
          </div>
          <p class="text-on-surface-variant max-w-sm">
            Tu asistente legal con inteligencia artificial. Software jurídico diseñado para optimizar tu práctica legal en Colombia.
          </p>
        </div>

        <!-- Producto -->
        <div>
          <h4 class="font-semibold text-on-surface mb-4">Producto</h4>
          <ul class="space-y-2 text-on-surface-variant">
            <li><a href="#features" class="hover:text-primary-700 transition-colors">Características</a></li>
            <li><a href="#how-it-works" class="hover:text-primary-700 transition-colors">Cómo funciona</a></li>
            <li><a href="#" class="hover:text-primary-700 transition-colors">Blog</a></li>
            <li><a href="#" class="hover:text-primary-700 transition-colors">Precios</a></li>
          </ul>
        </div>

        <!-- Legal & Recursos -->
        <div>
          <h4 class="font-semibold text-on-surface mb-4">Legal & Recursos</h4>
          <ul class="space-y-2 text-on-surface-variant">
            <li><a href="#" class="hover:text-primary-700 transition-colors">Política de Privacidad</a></li>
            <li><a href="#" class="hover:text-primary-700 transition-colors">Términos de Servicio</a></li>
            <li><a href="mailto:contacto@martinalawyer.co" class="hover:text-primary-700 transition-colors">Contacto</a></li>
            <li><a href="#" class="hover:text-primary-700 transition-colors">Soporte</a></li>
          </ul>
        </div>
      </div>

      <!-- SEO Footer Text -->
      <div class="mt-8 pt-8 border-t border-gray-200">
        <p class="text-sm text-on-surface-variant text-center max-w-3xl mx-auto">
          Martina Lawyer es un software jurídico con inteligencia artificial diseñado para abogados en Colombia.
          Optimiza la gestión de expedientes judiciales, consulta jurisprudencia colombiana, y analiza documentos legales
          con tecnología de IA. Ideal para firmas de abogados, abogados independientes y profesionales del derecho.
        </p>
      </div>

      <div class="mt-6 text-center text-sm text-on-surface-variant">
        © <%= Date.current.year %> Martina Lawyer. Todos los derechos reservados. | Software Jurídico con IA para Colombia
      </div>
    </div>
  </footer>

  <!-- Mobile Menu Script -->
  <script>
    const menuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    menuBtn?.addEventListener('click', () => {
      const isExpanded = menuBtn.getAttribute('aria-expanded') === 'true';
      menuBtn.setAttribute('aria-expanded', !isExpanded);
      mobileMenu.classList.toggle('hidden');
    });
  </script>
</body>
</html>